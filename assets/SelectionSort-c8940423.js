import{R as t,j as r}from"./index-a67ea92c.js";import{A as U}from"./ArrowsComponent-c7242ae5.js";const J=({difficulty:h,randomNumbers:x,countDownOver:a,setWinner:A,winner:c})=>{const[B,C]=t.useState(0),[$,e]=t.useState(1),[N,n]=t.useState(!1),[o,g]=t.useState(!1),[E,w]=t.useState([]),[y,j]=t.useState([]),m=t.useRef(null),p=t.useRef(c),[s,v]=t.useState([]),[I,P]=t.useState("");return t.useEffect(()=>{w(x),j(x)},[x]),t.useEffect(()=>{a?(n(!0),g(!0)):n(!1)},[a]),t.useEffect(()=>{if(s.length>0)for(let i in s)m.current.children[i].classList.add("valueSorted")},[s]),t.useEffect(()=>{if(o){let i=0,l=1,u=i,S,d;switch(h){case"Easy":d=700;break;case"Intermediate":d=500;break;case"Hard":d=300;break;case"Impossible":d=10;break}let f=[...E];S=setInterval(()=>{if(p.current==="user"&&(n(!1),clearInterval(S)),i<x.length)if(C(i),l<x.length){e(l);let k=Number(f[l]),L=Number(f[u]);k<L&&(u=l),P(f[u]),l++}else{let k=f[i];f[i]=f[u],f[u]=k,v(L=>[...L,i]),i++,l=i+1,u=i,j([...f])}else n(!1),clearInterval(S),g(!1),A("computer")},d),p.current=c}},[o,c]),r.jsxs("div",{className:"selectionSort",children:[r.jsx("div",{ref:m,className:"numbersToSort",children:y.map((i,l)=>r.jsx("div",{className:"values",children:i},`${i} ${l}`))}),N&&r.jsx(U,{firstArrowPos:B,secondArrowPos:$,valuesRef:m}),r.jsxs("div",{className:"colorMeanings",children:[r.jsxs("div",{className:"sortedColor",children:[r.jsx("div",{id:"sorted"}),"Sorted Values"]}),r.jsxs("div",{className:"unsortedColor",children:[r.jsx("div",{id:"unsorted"}),"Unsorted Values"]})]}),r.jsx("div",{className:"currentValues",children:r.jsxs("div",{children:["Current smallest: ",I]})})]})},W=({randomNumbers:h,setWinner:x})=>{const[a,A]=t.useState([]),[c,B]=t.useState([]),[C,$]=t.useState([]),e=t.useRef(null);t.useEffect(()=>{if(h.length>0){B(h);let n=[...h];$(n.sort((o,g)=>o-g))}},[h]),t.useEffect(()=>{c.length>0&&c.length===h.length&&JSON.stringify(c)==JSON.stringify(C)&&x("user")},[c]),t.useEffect(()=>{var n,o,g,E,w,y,j,m,p;if(e.current)if(a.length===2){let s=a[0],v=a[1],I=(n=e==null?void 0:e.current)==null?void 0:n.children[s].getBoundingClientRect(),P=(o=e==null?void 0:e.current)==null?void 0:o.children[v].getBoundingClientRect(),i=(v>s,P.x-I.x);(g=e==null?void 0:e.current)==null||g.children[s].animate([{transform:`translateX(${i}px)`}],{duration:difficulty==="Easy"?500:100,timingFunction:"ease-in-out"}),(E=e==null?void 0:e.current)==null||E.children[v].animate([{transform:`translateX(${-1*i}px)`}],{duration:difficulty==="Easy"?500:100,timingFunction:"ease-in-out"});for(let l=0;l<a.length;l++)(y=(w=e==null?void 0:e.current)==null?void 0:w.children[a[l]])==null||y.classList.remove("highlightBox");A([]),setTimeout(()=>{var S;for(let d=0;d<c.length;d++)(S=e==null?void 0:e.current)==null||S.children[d].classList.remove("obscureUnselected");let l=[...c],u=l[s];l[s]=l[v],l[v]=u,B(l)},difficulty==="Easy"?500:100)}else for(let s=0;s<c.length;s++)(m=(j=e==null?void 0:e.current)==null?void 0:j.children[a[s]])==null||m.classList.add("highlightBox");for(let s=0;s<c.length;s++)a.includes(s)||(p=e==null?void 0:e.current)==null||p.children[s].classList.add("obscureUnselected")},[a]);function N(n){A(o=>[...o,n])}return r.jsx("div",{className:"selectionSortUser",children:r.jsx("div",{ref:e,className:"userValuesToSort",children:c.map((n,o)=>r.jsx("div",{className:"values userValues",onClick:()=>N(o),children:n},`${n} ${o}`))})})};export{J as SelectionSort,W as SelectionSortUser};
