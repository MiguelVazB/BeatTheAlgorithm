import{R as t,j as e}from"./index-2eef731e.js";import{g as P,A as $}from"./ArrowsComponent-889cc353.js";import{a as U}from"./GameLayout-157ab975.js";/* empty css                       */import"./AlgorithmDescriptions-c1deb7e1.js";const M=({difficulty:u,randomNumbers:o,countDownOver:f,setWinner:S,winner:i})=>{const[j,n]=t.useState([]),[b,p]=t.useState([]),[x,s]=t.useState(!1),[l,c]=t.useState(""),[g,V]=t.useState(!1),[h,y]=t.useState([]),E=t.useRef(i),v=t.useRef(null),[T,C]=t.useState(0),[D,I]=t.useState(1);return t.useEffect(()=>{n(o),p(o)},[o]),t.useEffect(()=>{f?(s(!0),V(!0)):s(!1)},[f]),t.useEffect(()=>{if(g){let a=0,r=0,d;const B=P("bubble_sort",u);let m=[...j];d=setInterval(()=>{if(E.current==="user"&&(s(!1),clearInterval(d)),a<o.length)if(r<o.length-1){C(r),I(r+1);let A=Number(m[r]),w=Number(m[r+1]);if(A>w){let N=[];N.push(r),N.push(r+1),y(N),c(A);let R=A;m[r]=w,m[r+1]=R,p([...m])}else c("");r++}else a++,r=0;else s(!1),clearInterval(d),V(!1),S("computer")},B),E.current=i}},[g,i]),t.useEffect(()=>{if(h.length>0){let a=h[0],r=h[1];const d=v.current.children[a],B=v.current.children[r];U(d,B,u==="Easy"?300:100)}},[h]),e.jsxs("div",{className:"bubbleSort",children:[e.jsx("div",{ref:v,className:"algorithm",children:b.map((a,r)=>e.jsxs("div",{className:"valueToSort valueToSortComputer",children:[e.jsx("p",{children:a}),e.jsx("div",{className:"bubbleDot"}),e.jsx("div",{className:"smallBubbleDot bubbleDot"})]},`${a} ${r}`))}),x&&e.jsx($,{firstArrowPos:T,secondArrowPos:D,valuesRef:v}),e.jsxs("div",{className:"temporaryBubble",children:[e.jsx("p",{children:"Temporary bubble:"}),e.jsxs("div",{className:"tempBubble",children:[e.jsx("p",{className:"tempBubbleValue",children:l}),e.jsx("div",{className:"bubbleDot"}),e.jsx("div",{className:"smallBubbleDot bubbleDot"})]}),e.jsx("div",{className:"sortedValues",children:b.map((a,r)=>e.jsx("div",{children:a},`${a} ${r}`))})]})]})},O=({randomNumbers:u,setWinner:o})=>{const[f,S]=t.useState([]),[i,j]=t.useState([]),[n,b]=t.useState([]);t.useEffect(()=>{S(u);let s=[...u];j(s.sort((l,c)=>l-c))},[u]),t.useEffect(()=>{n.length>0&&n.length===u.length&&JSON.stringify(n)==JSON.stringify(i)&&o("user")},[n]);async function p(s){let l=document.getElementsByClassName("userBubbles");l[s].classList.add("bubblePopAnimate"),l[s].style.pointerEvents="none",b(c=>[...c,Number(l[s].children[0].innerHTML)])}function x(){b([]);let s=document.getElementsByClassName("userBubbles");for(let l=0;l<s.length;l++)s[l].classList.remove("bubblePopAnimate"),s[l].style.pointerEvents="auto"}return e.jsxs("div",{className:"bubbleSortUser",children:[e.jsx("div",{className:"userCLickableBubbles",children:f.map((s,l)=>e.jsxs("div",{className:"valueToSort userBubbles",onClick:()=>p(l),children:[e.jsx("p",{children:s}),e.jsx("div",{className:"bubbleDot"}),e.jsx("div",{className:"smallBubbleDot bubbleDot"})]},`${s} ${l}`))}),e.jsx("div",{className:"userAttempt",children:n.map((s,l)=>e.jsx("div",{children:s},l))}),e.jsx("div",{className:"buttonWrapper",children:e.jsx("button",{className:"resetBtn",onClick:x,children:"Reset"})})]})};export{M as BubbleSort,O as BubbleSortUser};
